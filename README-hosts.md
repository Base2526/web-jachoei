‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üëç
‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏∑‡∏≠ **macOS (OSX) ‡∏à‡∏∞ match IP ‡∏Å‡∏±‡∏ö hostname ‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏ü‡∏•‡πå `hosts`**
‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dev / test / override DNS

---

## 1Ô∏è‚É£ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå `hosts` ‡∏ö‡∏ô macOS

```bash
/etc/hosts
```

‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå `sudo`

---

## 2Ô∏è‚É£ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `hosts`

‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢ nano (‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏î)

```bash
sudo nano /etc/hosts
```

‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ vim

```bash
sudo vim /etc/hosts
```

---

## 3Ô∏è‚É£ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£ match IP ‚Üí hostname

‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠:

```text
IP_ADDRESS   hostname [alias...]
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

```text
127.0.0.1   localhost
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á match domain ‡∏Å‡∏±‡∏ö IP

```text
35.187.248.255   dx.com.xz
35.187.248.255   www.dx.com.xz
```

‡∏´‡∏£‡∏∑‡∏≠ local dev:

```text
127.0.0.1   myapp.local
127.0.0.1   api.myapp.local
```

üìå **1 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î = 1 mapping**
üìå ‡πÉ‡∏™‡πà‡∏´‡∏•‡∏≤‡∏¢ hostname ‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢ IP ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ

---

## 4Ô∏è‚É£ ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ hosts ‡∏ï‡πâ‡∏≠‡∏á clear DNS cache (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å)

‡∏ö‡∏ô macOS (Monterey / Ventura / Sonoma ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô):

```bash
sudo dscacheutil -flushcache
sudo killall -HUP mDNSResponder
```

‡πÑ‡∏°‡πà‡∏°‡∏µ output = ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ

---

## 5Ô∏è‚É£ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ match ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

### ‡πÉ‡∏ä‡πâ `ping`

```bash
ping dx.com.xz
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô IP ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏™‡πà‡πÑ‡∏ß‡πâ ‚Üí ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß

### ‡πÉ‡∏ä‡πâ `curl`

```bash
curl http://dx.com.xz
```

### ‡πÉ‡∏ä‡πâ `nslookup` (‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏î‡∏π hosts ‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ)

```bash
scutil --dns
```

‡∏´‡∏£‡∏∑‡∏≠

```bash
getent hosts dx.com.xz
```

---

## 6Ô∏è‚É£ ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç DNS ‡∏ö‡∏ô macOS

macOS resolve ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

1. `/etc/hosts`  ‚úÖ (‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏∏‡∏î)
2. mDNS / Bonjour
3. DNS server (8.8.8.8, ISP ‡∏Ø‡∏•‡∏Ø)

‚û°Ô∏è ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏á‡∏±‡πâ‡∏ô **hosts ‡∏à‡∏∞ override DNS ‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠**

---

## 7Ô∏è‚É£ ‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### üîπ Dev / UAT

```text
127.0.0.1   uat.dx.com.xz
```

### üîπ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö SSL (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)

* certificate ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö hostname
* ‡πÉ‡∏ä‡πâ hosts ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ browser ‡∏™‡πà‡∏á SNI ‡∏ñ‡∏π‡∏Å

### üîπ Block domain

```text
0.0.0.0   ads.example.com
```

---

## 8Ô∏è‚É£ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á

‚ùó ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
‚ùó Browser ‡∏≠‡∏≤‡∏à cache ‚Üí ‡∏õ‡∏¥‡∏î/‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
‚ùó Chrome ‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏ï‡πâ‡∏≠‡∏á clear DNS:

```
chrome://net-internals/#dns
```

---

## TL;DR

```bash
sudo nano /etc/hosts
```

‡πÄ‡∏û‡∏¥‡πà‡∏°:

```text
35.187.248.255   dx.com.xz www.dx.com.xz
```

‡πÅ‡∏•‡πâ‡∏ß:

```bash
sudo dscacheutil -flushcache
sudo killall -HUP mDNSResponder
```

---

‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:

* map ‡∏´‡∏•‡∏≤‡∏¢ env (dev / uat / prod)
* ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Docker / Nginx / SSL
* ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô script ‡∏™‡∏•‡∏±‡∏ö hosts ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏° workflow ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡∏±‡∏ö üí™
