‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üëç
‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ñ‡∏∑‡∏≠ **macOS (OSX) ‡∏à‡∏∞ match IP ‡∏Å‡∏±‡∏ö hostname ‡∏¢‡∏±‡∏á‡πÑ‡∏á ‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏ü‡∏•‡πå `hosts`**
‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö dev / test / override DNS

---

## 1Ô∏è‚É£ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå `hosts` ‡∏ö‡∏ô macOS

```bash
/etc/hosts
```

‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå `sudo`

---

## 2Ô∏è‚É£ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `hosts`

‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢ nano (‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏î)

```bash
sudo nano /etc/hosts
```

‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ vim

```bash
sudo vim /etc/hosts
```

---

## 3Ô∏è‚É£ ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£ match IP ‚Üí hostname

‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠:

```text
IP_ADDRESS   hostname [alias...]
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

```text
127.0.0.1   localhost
```

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á match domain ‡∏Å‡∏±‡∏ö IP

```text
35.187.248.255   dx.com.xz
35.187.248.255   www.dx.com.xz
```

‡∏´‡∏£‡∏∑‡∏≠ local dev:

```text
127.0.0.1   myapp.local
127.0.0.1   api.myapp.local
```

üìå **1 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î = 1 mapping**
üìå ‡πÉ‡∏™‡πà‡∏´‡∏•‡∏≤‡∏¢ hostname ‡∏ï‡πà‡∏≠‡∏ó‡πâ‡∏≤‡∏¢ IP ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ

---

## 4Ô∏è‚É£ ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ hosts ‡∏ï‡πâ‡∏≠‡∏á clear DNS cache (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å)

‡∏ö‡∏ô macOS (Monterey / Ventura / Sonoma ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô):

```bash
sudo dscacheutil -flushcache
sudo killall -HUP mDNSResponder
```

‡πÑ‡∏°‡πà‡∏°‡∏µ output = ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚úÖ

---

## 5Ô∏è‚É£ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ match ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á

### ‡πÉ‡∏ä‡πâ `ping`

```bash
ping dx.com.xz
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô IP ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏™‡πà‡πÑ‡∏ß‡πâ ‚Üí ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß

### ‡πÉ‡∏ä‡πâ `curl`

```bash
curl http://dx.com.xz
```

### ‡πÉ‡∏ä‡πâ `nslookup` (‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏î‡∏π hosts ‡πÄ‡∏™‡∏°‡∏≠‡πÑ‡∏õ)

```bash
scutil --dns
```

‡∏´‡∏£‡∏∑‡∏≠

```bash
getent hosts dx.com.xz
```

---

## 6Ô∏è‚É£ ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç DNS ‡∏ö‡∏ô macOS

macOS resolve ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:

1. `/etc/hosts`  ‚úÖ (‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏∏‡∏î)
2. mDNS / Bonjour
3. DNS server (8.8.8.8, ISP ‡∏Ø‡∏•‡∏Ø)

‚û°Ô∏è ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏á‡∏±‡πâ‡∏ô **hosts ‡∏à‡∏∞ override DNS ‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏°‡∏≠**

---

## 7Ô∏è‚É£ ‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### üîπ Dev / UAT

```text
127.0.0.1   uat.dx.com.xz
```

### üîπ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö SSL (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)

* certificate ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö hostname
* ‡πÉ‡∏ä‡πâ hosts ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ browser ‡∏™‡πà‡∏á SNI ‡∏ñ‡∏π‡∏Å

### üîπ Block domain

```text
0.0.0.0   ads.example.com
```

---

## 8Ô∏è‚É£ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á

‚ùó ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
‚ùó Browser ‡∏≠‡∏≤‡∏à cache ‚Üí ‡∏õ‡∏¥‡∏î/‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
‚ùó Chrome ‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏ï‡πâ‡∏≠‡∏á clear DNS:

```
chrome://net-internals/#dns
```

---

## TL;DR

```bash
sudo nano /etc/hosts
```

‡πÄ‡∏û‡∏¥‡πà‡∏°:

```text
35.187.248.255   dx.com.xz www.dx.com.xz
```

‡πÅ‡∏•‡πâ‡∏ß:

```bash
sudo dscacheutil -flushcache
sudo killall -HUP mDNSResponder
```

---

‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:

* map ‡∏´‡∏•‡∏≤‡∏¢ env (dev / uat / prod)
* ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Docker / Nginx / SSL
* ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô script ‡∏™‡∏•‡∏±‡∏ö hosts ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏° workflow ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏Ñ‡∏£‡∏±‡∏ö üí™



--------------------



‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üëç ‡πÄ‡∏õ‡πá‡∏ô **syntax ‡∏ú‡∏¥‡∏î + ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ install CA** ‡πÄ‡∏•‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å warning/error

‡∏°‡∏≤‡∏î‡∏π‡∏ó‡∏µ‡∏•‡∏∞‡∏à‡∏∏‡∏î‡πÉ‡∏´‡πâ‡∏à‡∏ö‡πÄ‡∏•‡∏¢

---

## ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á ERROR

```bash
mkcert localhost 192.168.1.25::1
```

‚ùå `192.168.1.25::1` **‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**

* `::1` ‡∏Ñ‡∏∑‡∏≠ IPv6 (loopback)
* `192.168.1.25` ‡∏Ñ‡∏∑‡∏≠ IPv4
  ‚Üí ‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

mkcert ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ **‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô argument ‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ï‡∏±‡∏ß**

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

### 1Ô∏è‚É£ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Local CA ‡∏Å‡πà‡∏≠‡∏ô (‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)

```bash
mkcert -install
```

‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥:

* ‡∏•‡∏á CA ‡πÉ‡∏ô macOS Keychain ‚úÖ
* Browser (Chrome / Safari) ‡∏à‡∏∞ trust ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

> ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏Ç‡∏±‡πâ‡∏ô‡∏ô‡∏µ‡πâ ‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ generate cert ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí browser ‡∏à‡∏∞‡∏ü‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

---

### 2Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á certificate ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö (localhost + IP)

```bash
mkcert localhost 127.0.0.1 ::1 192.168.1.25
```

‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ:

```text
localhost.pem
localhost-key.pem
```

‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:

* [https://localhost](https://localhost)
* [https://127.0.0.1](https://127.0.0.1)
* https://[::1]
* [https://192.168.1.25](https://192.168.1.25)

---

## ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏ß‡∏¢ ‡πÜ

```bash
mkcert -cert-file local-cert.pem -key-file local-key.pem \
  localhost 127.0.0.1 ::1 192.168.1.25
```

---

## Firefox / Java (‡∏Å‡∏£‡∏ì‡∏µ‡∏û‡∏¥‡πÄ‡∏®‡∏©)

### Firefox

‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Firefox ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô:

```bash
mkcert -install
```

‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ `nss` (‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏≤‡∏Å brew)

### Java (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ)

‡∏ï‡πâ‡∏≠‡∏á import CA ‡πÄ‡∏û‡∏¥‡πà‡∏° (‡∏™‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Next.js)

---

## ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ cert ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏´‡∏°

```bash
openssl x509 -in localhost.pem -text -noout
```

‡∏î‡∏π‡∏ï‡∏£‡∏á `Subject Alternative Name` ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô:

```
DNS:localhost
IP Address:127.0.0.1
IP Address:192.168.1.25
IP Address:::1
```

---

## ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö Next.js (‡∏ó‡∏≤‡∏á‡∏•‡∏±‡∏î)

‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ó‡∏≥ https server ‡πÄ‡∏≠‡∏á
‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ **ngrok / cloudflared** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Facebook Login ‚Üí ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤

```bash
ngrok http 3000
```

‡πÄ‡∏≠‡∏≤ URL `https://xxxx.ngrok-free.app` ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô Meta Developer
‡∏à‡∏ö‡πÉ‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ üî•

---

## TL;DR

‚ùå ‡∏ú‡∏¥‡∏î:

```bash
mkcert localhost 192.168.1.25::1
```

‚úÖ ‡∏ñ‡∏π‡∏Å:

```bash
mkcert -install
mkcert localhost 127.0.0.1 ::1 192.168.1.25
```

---

‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏°:

* ‡∏ó‡∏≥ **Next.js https server.ts**
* ‡∏ï‡∏±‡πâ‡∏á **Caddy / Nginx** ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ cert ‡∏ô‡∏µ‡πâ
* ‡πÄ‡∏ã‡πá‡∏ï **Facebook Redirect URI** ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á 100%

‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏à‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏ï‡∏≤‡∏° setup ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà üí™
